{% extends 'base.html' %}

{% block content %}

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="pdf.css" />
    <script src="pdf.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
    <style>


.card {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  max-width: 800px;
  margin: auto;
  text-align: center;
  font-family: arial;
}

  </style>

<script>
    window.onload = function () {
    document.getElementById("download")
        .addEventListener("click", () => {
            const invoice = this.document.getElementById("invoice");
            console.log(invoice);
            console.log(window);
            var opt = {
                margin: 1,
                filename: 'registerd users.pdf',
                image: { type: 'png', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };
            html2pdf().from(invoice).set(opt).save();
        })
}
</script>
    <style>
        .center {
            position: absolute;
            text-align: center;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>

<body>

<ul>
    <br>
    <li><a class="active" href="userhome"><i class="fa fa-home fa-1.8x"></i></a> </li>
<br>
</ul>

<br> <br> <br><br> <br> <br><br>
    <div class="card">
        <center>
    <br> <br>

        <h3>
            Thanks, Your booking is conformed!<br>Have a nice journey to the west HAVEN. <i class="fas fa-check-circle"></i>
        </h3>
        <br>
        <button class="btn btn-primary" id="download" style="background-color:red;color:white;text-align:center;">Save Receipt</button>

<br><br> <br> <br>


        </center>
    </div>
    <div style="visibility:hidden">

        <div  id="invoice">

                          <div class="card-header bg-transparent header-elements-inline">
                              <img class="demo cursor" src="horizontal_on_white_by_logaster.png" style="width:100%;height:100px"  alt="The resort images">
                            <h6 class="card-title text-primary">BOOKING CONFORMATION FORM</h6>
                         </div>

          <div class="col-md-12">

                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="mb-4 pull-left">

                                    <ul class="list list-unstyled mb-0 text-left">
                                        <li>Munnar Hill Station</li>
                                        <li>Idukki</li>
                                        <li>+91 9873452349 </li>
                                    </ul>
                                </div>
                            </div>
                             {% for i in data2 %}
                            <div class="col-sm-6">
                                <div class="mb-4 ">
                                    <div class="text-sm-right">
                                        <h4 class="invoice-color mb-2 mt-md-2">{{i.username}}</h4>
                                        <ul class="list list-unstyled mb-0">
                                            <li><span class="font-weight-semibold">{{i.address}}</span></li>
                                            <li><span class="font-weight-semibold">{{i.city}}</span></li>
                                             <li><span class="font-weight-semibold">{{i.state.state}}</span></li>
                                            <li><span class="font-weight-semibold">{{i.email}}</span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                                    {% endfor %}                                                                                        <div>
                        <div class="d-md-flex flex-md-wrap">
                            <div class="mb-4 mb-md-2 text-left"> <span class="text-muted">Booking Details:</span>
                                <ul class="list list-unstyled mb-0">
                                    <li>
                                        <h5 class="my-2">{{data.resortname.resortname}}</h5>
                                    </li>
                                    <li><span class="font-weight-semibold">TYPE:&nbsp;&nbsp;{{data.type}}</span></li>
                                    <li>AC/NON AC:&nbsp;&nbsp;{{data.acnonac}}</li>
                                    <li>NO.ADULT:&nbsp;&nbsp;{{data.adult}}</li>
                                    <li>NO.CHILD:&nbsp;&nbsp;{{data.child}}</li>
                                    <li>CHECK IN DATE:&nbsp;&nbsp;{{data.checkin}}</li>
                                     <li>CHECK OUT DATE:&nbsp;&nbsp;{{data.checkout}}</li>
                                    <li><a href="homee" data-abc="true">eRESORTBOOKING.com</a></li>
                                </ul>
                            </div>


                            <div class="mb-2 ml-auto"> <span class="text-muted">Payment Details:</span>
                               <div class="card-body">
                        <div class="d-md-flex flex-md-wrap">
                            <div class="pt-2 mb-3 wmin-md-400 ml-auto">
                                <h6 class="mb-3 text-left">Total due</h6>
                                <div class="table-responsive">
                                    <table class="table">
                                        <tbody>
                                            <tr>
                                                <th class="text-left">Subtotal:</th>
                                                <td class="text-right">{{data.cost}}</td>
                                            </tr>
                                            <tr>
                                                <th class="text-left">Tax: <span class="font-weight-normal">(25%)</span></th>
                                                <td class="text-right">$27</td>
                                            </tr>
                                            <tr>
                                                <th class="text-left">Total:</th>
                                                <td class="text-right text-primary">
                                                    <h5 class="font-weight-semibold">$500</h5>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>
                            </div>


                        </div>
                    </div>
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <img class="demo cursor" src="signature.png" style="width:30%;height:90px"  alt="The resort images">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                         <img class="demo cursor" src="seal.jpg" style="width:20%;height:90px"  alt="The resort images">
                                                                                                                         </div>



          </div>
                      <div class="card-footer" > <span class="text-muted" >Please check for travel restrictions before booking and travelling to
                          an accommodation. Travel may be permitted only for certain purposes and in particular, touristic travel may not be allowed.
                          To help you on your way.
                          </span>
                      </div>




        </div>





    </div>







</body>


{% endblock content %}